version: 1
number: 3
title: "Eigenen Workshop erstellen"
description: "Schritt für Schritt zum eigenen Workshop-Repository"
sections:
  - title: "Repository anlegen"
    explanation: |
      Ein Workshop ist ein eigenes Git-Repository mit einer festgelegten Ordnerstruktur.
      Die Mindeststruktur sieht so aus:

      ```
      mein-workshop/
      ├── index.yaml
      ├── deutsch/
      │   ├── topics.yaml
      │   └── mein-thema/
      │       ├── lessons.yaml
      │       └── 01-erste-lektion/
      │           └── content.yaml
      ```
    examples:
      - q: "Welche Datei muss im Wurzelverzeichnis des Workshops liegen?"
        a: "index.yaml — sie deklariert die verfügbaren Interface-Sprachen"
        labels: ["Struktur"]
        rel:
          - ["index.yaml", "Wurzeldatei — listet Sprachen mit folder und code"]

      - q: "Wie sieht ein minimaler index.yaml-Eintrag aus?"
        a: "languages:\\n  - folder: deutsch\\n    code: de-DE"
        labels: ["Struktur"]
        rel:
          - ["folder", "Name des Sprachordners im Repository"]
          - ["code", "BCP 47 Sprachcode für Text-to-Speech (z.B. de-DE)"]

      - q: "Was ist ein BCP 47 Sprachcode?"
        a: "Ein standardisiertes Format für Sprachkennungen, z.B. de-DE, en-US, pt-PT"
        labels: ["Referenz"]
        rel:
          - ["BCP 47", "Standard für Sprachcodes — Sprache-Region"]
          - ["de-DE", "Deutsch (Deutschland)"]
          - ["en-US", "Englisch (USA)"]
          - ["pt-PT", "Portugiesisch (Portugal)"]

  - title: "Lektionen schreiben"
    explanation: |
      Jede Lektion liegt in einem eigenen Ordner und enthält eine `content.yaml`-Datei.

      **Tipps für gute Lektionen:**
      - 4-6 Sektionen pro Lektion
      - 3-5 Beispiele pro Sektion
      - Jedes Beispiel sollte mindestens ein rel-Item haben
      - Erklärungen in Markdown mit Struktur (Listen, Fettdruck)
      - Progressive Schwierigkeit — einfach anfangen
    examples:
      - q: "Wie viele Sektionen sollte eine Lektion haben?"
        a: "4-6 Sektionen — genug für Tiefe, aber nicht überwältigend"
        labels: ["Best Practice"]
        rel:
          - ["Sektion", "Thematischer Block innerhalb einer Lektion"]

      - q: "Wie viele Beispiele pro Sektion sind ideal?"
        a: "3-5 Beispiele — genug zum Üben, ohne zu ermüden"
        labels: ["Best Practice"]
        rel:
          - ["Beispiel", "Ein q/a-Paar mit optionalen Labels und rel-Einträgen"]

      - q: "Wie benennt man Lektionsordner?"
        a: "Mit Nummernpräfix und Beschreibung: 01-grundlagen, 02-verben, 03-fortgeschritten"
        labels: ["Konvention"]
        rel:
          - ["Nummernpräfix", "Zweistellig mit führender Null: 01-, 02-, ... 10-"]

      - q: "Was passiert mit dem description-Feld einer Lektion?"
        a: "Es wird auf der Lektionsübersicht als Beschreibungstext unter dem Titel angezeigt"
        labels: ["Schema"]
        rel:
          - ["description", "Optionaler Beschreibungstext der Lektion"]

  - title: "Mehrsprachige Workshops"
    explanation: |
      Ein Workshop kann Inhalte in **mehreren Sprachen** anbieten. Dazu legt man
      einfach mehrere Sprachordner an:

      ```
      mein-workshop/
      ├── index.yaml          # listet deutsch UND english
      ├── deutsch/
      │   ├── topics.yaml
      │   └── mein-thema/
      └── english/
          ├── topics.yaml
          └── my-topic/
      ```

      Die Themen-Ordnernamen können unterschiedlich sein (z.B. `mein-thema` vs `my-topic`),
      solange die topics.yaml sie korrekt referenziert.
    examples:
      - q: "Wie bietet man denselben Workshop in mehreren Sprachen an?"
        a: "Einen Sprachordner pro Sprache anlegen und in index.yaml listen"
        labels: ["Mehrsprachig"]
        rel:
          - ["Sprachordner", "z.B. deutsch/, english/ — enthält topics.yaml"]

      - q: "Müssen die Themen-Ordnernamen in verschiedenen Sprachen gleich sein?"
        a: "Nein — deutsch/erste-hilfe und english/first-aid sind völlig in Ordnung"
        labels: ["Mehrsprachig"]
        rel:
          - ["Themen-Ordner", "Name ist frei wählbar, muss in topics.yaml referenziert werden"]

      - q: "Welchen code benutzt man bei einem nicht-sprachlichen Thema?"
        a: "Denselben Code wie die Interface-Sprache, z.B. de-DE für ein deutsches Sachthema"
        labels: ["Referenz"]
        rel:
          - ["Topic-Code", "Bei Sachthemen = Interface-Sprachcode"]

  - title: "Audio-Dateien generieren"
    explanation: |
      Open Learn unterstützt **voraufgenommene MP3-Audiodateien** für jede Lektion.
      Das Open-Learn-Repository enthält ein Skript `generate-audio.sh`, das mit
      macOS Text-to-Speech (`say`) und `ffmpeg` die Audiodateien automatisch erzeugt.

      **Voraussetzungen:** macOS, `yq` (`brew install yq`), `ffmpeg` (`brew install ffmpeg`)

      **Namenskonvention:**
      - `title.mp3` — Lektionstitel (Interface-Sprache)
      - `0-title.mp3` — Sektionstitel (Themensprache)
      - `0-0-q.mp3` — Frage (Themensprache)
      - `0-0-a.mp3` — Antwort (Interface-Sprache)
    examples:
      - q: "Wie generiert man Audio für eine einzelne Lektion?"
        a: "./generate-audio.sh /pfad/zum/workshop/deutsch/thema/01-lektion/"
        labels: ["Kommando"]
        rel:
          - ["generate-audio.sh", "Skript aus dem Open-Learn-Repository"]

      - q: "Wie generiert man Audio für alle Lektionen eines Workshops?"
        a: "Eine Schleife über alle Lektionsordner: for lesson in deutsch/thema/*/; do ./generate-audio.sh $lesson; done"
        labels: ["Kommando"]
        rel:
          - ["Schleife", "Das Skript verarbeitet jeweils eine Lektion pro Aufruf"]

      - q: "Was passiert, wenn die Audio-Dateien schon existieren?"
        a: "Das Skript überspringt existierende Dateien — es ist idempotent. Mit -f erzwingt man Neugenerierung."
        labels: ["Idempotent"]
        rel:
          - ["-f", "Force-Flag — erzwingt Neugenerierung aller Dateien"]

      - q: "Welche Stimmen werden verwendet?"
        a: "Die Stimme wird über den BCP 47 code bestimmt: Anna (de-DE), Samantha (en-US), Joana (pt-PT)"
        labels: ["Referenz"]
        rel:
          - ["Anna", "Deutsche macOS TTS-Stimme"]
          - ["Samantha", "Englische macOS TTS-Stimme"]
          - ["Joana", "Portugiesische macOS TTS-Stimme"]
